require('dotenv').config();
const mongoose = require('mongoose');
const prompt = require('prompt-sync')();
const Customer = require('./models/customer.js');

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const connect = async () => {
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('Connected to MongoDB');
    await runQueries()
    await mongoose.disconnect();
    console.log('Disconnected from MongoDB');
    process.exit();
};
// const runQueries = async () => {
//   console.log('Queries running.')
// };
connect()

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Display welcome message
// Show the 5 options

console.log('Welcome to the CRM!');
console.log('What would you like to do?');

console.log('1. Create');
console.log('2. View all');
console.log('3. Update');
console.log('4. delete');
console.log('5. quit');

// Use prompt to get the users choice
const option = prompt('Please enter the number of the action you would like to run:'); // user enters a number

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const createCustomerOne = async () => {
    const customerData = await Customer.create({
        name: 'Matt',
        age: 43
    });
    console.log('New Customer', customerData)
};

const createCustomerTwo = async () => {
    const customerData = await Customer.create({
        name: 'Vivienne',
        age: 6
    });
    console.log('New Customer', customerData)
};

if (option === '1') {
    console.log('Lets create a new customer!')
    createCustomerOne()
    createCustomerTwo()
};

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// if (option === 2) {
//     console.log('Lets view all the customers')
//     viewCustomers()
// };


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// if (option === 3) {
//     console.log('Lets update a customer')
//     updateCustomer()
// };


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// if (option === 4) {
//     console.log('Lets delete a customer!')
//     deleteCustomer()
// };


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// if (option === 5) {
//     console.log('byeeeeee')
//     quit()
// };

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////










/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////









/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////